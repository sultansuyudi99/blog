<li id="<%= dom_id micropost %>">
  <div class="bg-white rounded-xl shadow-sm border border-neutral-200 p-4 hover:shadow-md transition-shadow duration-200">
    <div class="flex gap-3">
      <%# Profile Image %>
      <div class="flex-shrink-0">
        <%= link_to gravatar_for(micropost.user, size: 48), micropost.user, class: "rounded-full" %>
      </div>
      
      <%# Content %>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <%# User Name %>
          <%= link_to micropost.user.name, micropost.user, class: "font-semibold text-neutral-900 hover:underline truncate" %>
          
          <%# Timestamp %>
          <span class="text-neutral-400 text-sm">Â·</span>
          <span class="text-neutral-500 text-sm hover:underline cursor-pointer">
            <%= time_ago_in_words(micropost.created_at) %> ago
          </span>
        </div>
        
        <%# Micropost Content %>
        <p class="text-neutral-800 text-base leading-relaxed break-words">
          <%= micropost.content %>
        </p>
        
        <%# Attached Image %>
        <% if micropost.image.attached? %>
          <div class="mt-3 rounded-lg overflow-hidden border border-neutral-200">
            <%= image_tag micropost.display_image || micropost.image, 
                class: "w-full h-auto max-h-[400px] object-cover" %>
          </div>
        <% end %>
        
        <%# Delete link (only for owner) %>
        <% if current_user?(micropost.user) %>
          <div class="flex justify-end mt-3 pt-2 border-t border-neutral-100">
            <%= link_to "delete", micropost, 
                data: { turbo_method: :delete, turbo_confirm: "Delete this micropost?" },
                class: "text-neutral-500 hover:text-red-500 transition-colors text-sm" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</li>
